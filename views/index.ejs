<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/head') %>
        <style>
            .masked-image {
                width: 300px;
                height: 300px;
                background: url("https://picsum.photos/400/400") center / cover no-repeat;

                -webkit-mask-image: url("images/mask3.png");
                -webkit-mask-size: cover;
                -webkit-mask-repeat: no-repeat;
                -webkit-mask-position: center;

                mask-image: url("images/mask3.png");
                mask-size: cover;
                mask-repeat: no-repeat;
                mask-position: center;
            }
        </style>
</head>

<body class="dark:bg-gray-900 dark:text-whitebg-white text-black font-sans dark:bg-gray-900">
    <%- include('partials/header') %>

    <div class="mx-4">
    <form action="/search" method="GET" class="flex items-center max-w-sm mx-auto relative my-8">
        <div class="absolute inset-y-0 left-1 flex items-center ps-3 pointer-events-none">
            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"/>
            </svg>
        </div>
        <input type="text" name="query" id="simple-search"
            class="px-6 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-4 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"
            placeholder="Search branch name..." required />
        <button type="submit"
            class="p-2 ml-2 text-sm font-medium text-white absolute right-2 top-1 rounded-lg">
            <svg class="w-4 h-4 text-black text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
            </svg>
            <span class="sr-only">Search</span>
        </button>
    </form>
</div>


        <%- include('partials/carousel') %>
            <h1 class="sm:text-3xl text-2xl font-bold title-font mb-2 text-center my-4">COLLECTIONS</h1>
            <div class="flex flex-wrap my-4 justify-center gap-4">

                <!-- Product Card Template -->
                <a href="/shopping?category=caps">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/caps.webp"
                            alt="CAPS" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">CAPS</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=hoodies">

                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/hoodie.webp"
                            alt="HOODIES" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">HOODIES</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=mousepad">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/mousepad.webp"
                            alt="MOUSE PAD" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">MOUSE PAD</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=mugs">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/mugs.webp"
                            alt="MUGS" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">MUGS</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=oversized-tshirts">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/oversizedtshirt.webp"
                            alt="OVERSIZED T-SHIRTS" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">OVERSIZED T-SHIRTS</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=polo-tshirts">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/polotshirts.webp"
                            alt="POLO T-SHIRTS" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">POLO T-SHIRTS</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=sweatshirts">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/sweatshirt.webp"
                            alt="SWEATSHIRTS" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">SWEATSHIRTS</h3> -->
                    </div>
                </a>

                <a href="/shopping?category=t-shirts">
                    <div class="relative bg-white w-40 rounded-xl overflow-hidden shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        data-aos="fade-up">
                        <img src="https://codeswear.nyc3.cdn.digitaloceanspaces.com/constants/landing/collections/tshirt.webp"
                            alt="T-SHIRTS" class="w-full h-60 object-cover">
                        <!-- <h3 class="text-xl absolute bottom-3 left-1/2 transform -translate-x-1/2 bg-black/60 px-4 py-1 rounded text-white text-sm font-semibold z-10">T-SHIRTS</h3> -->
                    </div>
                </a>

            </div>

            <h1 class="dark:bg-black dark:text-white text-left ml-8 mt-8 mb-4 font-semibold text-xl ">
                About Me
            </h1>
            <div data-aos="fade-up" class="dark:bg-black dark:text-white mb-4 flex flex-col items-center w-[90vw] mx-auto">
                <div class="dark:bg-black dark:text-white masked-image free"></div>
                <p class="dark:bg-black dark:text-white mx-4 my-1 mt-5 font-semibold text-xl text-center">
                    I am a self-taught full-stack and Android developer with a deep passion for building user-friendly and practical applications. I specialize in JavaScript, Kotlin, React, and Jetpack Compose.
                </p>
                <p class="dark:bg-black dark:text-white mx-4 my-1 font-semibold text-xl text-center">
                    I’ve developed multiple projects, blending creativity and functionality — from e-learning platforms to e-commerce apps. I'm driven by curiosity and a commitment to continuous learning.
                </p>
            </div>
            

            <% if (products && products.length > 0) { %>
                <div class="grid gap-4 mx-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 object-cover" data-aos="fade-up">
                  <% products.slice(0, 6).forEach(product => { 
                      const productImage = (product.variants && product.variants.length > 0 && product.variants[0].images.length > 0)
                        ? product.variants[0].images[0]
                        : 'default-image.jpg';
                  %>
                  <div class="bg-white dark:bg-gray-900 shadow rounded-md overflow-hidden hover:shadow-md transition text-black dark:text-white">
                    <a href="id=<%= product._id %>">
                      <img src="<%= productImage %>" alt="<%= product.name %>" class="w-full h-44 object-cover" />
                    </a>
                    <div class="p-3">
                      <h5 class="text-base font-semibold truncate"><%= product.name %></h5>
                      <p class="text-xs text-gray-600 dark:text-gray-400 truncate">
                        <%= product.description %>
                      </p>
                      <p class="mt-1 text-lg font-bold text-blue-700 dark:text-blue-400">Rs <%= product.price %></p>
              
                      <!-- Sizes -->
                      <% if (product.variants && product.variants.length > 0) { 
                          const sizesFlat = product.variants.flatMap(variant => variant.sizes.map(size => size.size));
                          const uniqueSizes = [...new Set(sizesFlat)];
                      %>
                        <div class="mt-1 text-sm text-gray-600 dark:text-gray-400">
                          <span class="font-semibold text-gray-700 dark:text-gray-300">Sizes:</span>
                          <span><%= uniqueSizes.join(', ') %></span>
                        </div>
                      <% } %>
              
                      <!-- Colors -->
                      <% if (product.variants && product.variants.length > 0) { 
                          const uniqueColors = [...new Set(product.variants.map(variant => variant.color))];
                      %>
                        <div class="mt-1 text-sm">
                          <span class="font-semibold text-gray-700 dark:text-gray-300">Colors:</span>
                          <div class="flex mt-1 space-x-1 justify-center">
                            <% uniqueColors.forEach(color => { %>
                              <div class="w-4 h-4 rounded-full border border-gray-300" style="background-color: <%= color %>"></div>
                            <% }) %>
                          </div>
                        </div>
                      <% } %>
              
                    </div>
                  </div>
                  <% }); %>
                </div>
              <% } else { %>
                <p class="text-center text-gray-600 dark:text-gray-400 mt-10">No products available right now.</p>
              <% } %>
              
                <%- include('partials/footer') %>
                    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.4.1/dist/flowbite.min.js"></script>
                    <script src="script.js"></script>
</body>

</html>